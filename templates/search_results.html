{% extends "base.html" %}

{% block title %}Wyniki wyszukiwania â€” Smart Parking{% endblock %}

{% block content %}
  <style>
    #map { height: calc(100vh - 70px); }
    .popup h4 { margin: 0 0 6px; }
    .flash-messages p { background:#ffe9a8; padding:8px; border-radius:6px; }
  </style>

  {% with messages = get_flashed_messages() %}
    {% if messages %}
      <div class="flash-messages">
        {% for m in messages %}<p>{{ m }}</p>{% endfor %}
      </div>
    {% endif %}
  {% endwith %}

  <div id="map"></div>

  <script id="search-data" type="application/json">
    {{ { "lat": lat, "lon": lon, "query": query, "radius": 200 } | tojson }}
  </script>

  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  <script src="{{ url_for('static', filename='map.js') }}"></script>
{% endblock %}
